<!DOCTYPE html>
<html lang="en">

<div class="floatable">
    <a class="menu-btn" id="menu-button">
        <img src="https://media.discordapp.net/attachments/838858730342580314/893443498718674975/earth-min2.png" class="btn-img" alt="">
    </a>


    <div class="menu" id="menu" hidden>
        <table>
            <tr>
                <td>Year</td>
                <td><input id="year_range" type="range" min="1900"  max="2200"></td>
            </tr>
            <tr>
                <td>Temperature</td>
                <td><input id="temperature_range" type="range" min="-5" max="5"></td>
            </tr>
        </table>

        <div>
            <table>
                <tr>
                    <td>Tundra</td>
                    <td style="background-color: rgb(255,255,255) ">⠀⠀</td>
                </tr>
                <tr>
                    <td>Boreal Forest</td>
                    <td style="background-color: rgb(204,255,204) "> </td>
                </tr>
                <tr>
                    <td>Temperate Grassland</td>
                    <td style="background-color: rgb(153,255,153)"> </td>
                </tr>
                <tr>
                    <td>Woodland</td>
                    <td style="background-color: rgb(127.5,204,127.5)"> </td>
                </tr>
                <tr>
                    <td>Temperate Seasonal Forest</td>
                    <td style="background-color: rgb(153,204,153)"></td>
                </tr>
                <tr>
                    <td>Temperate Rainforest</td>
                    <td style="background-color: rgb(102,178.5,102)"></td>
                </tr>
                <tr>
                    <td>Tropical Rainforest</td>
                    <td style="background-color: rgb(25.5,178.5,25.5)"></td>
                </tr>

                <tr>
                    <td>Savannah</td>
                    <td style="background-color: rgb(178.5,229.5,127.5)"></td>
                </tr>
                <tr>
                    <td>Subtropical Desert</td>
                    <td style="background-color: rgb(229.5,229.5,102)"></td>
                </tr>
            </table>

        </div>
    </div>

</div>
<canvas id="c"></canvas>
<style>
    .floatable {
        position: absolute;
        width: 100%;
    }

    .menu-btn {
        display: block;
        height: 5%;
        width: 5%;
        border-radius: 50%;
        opacity: 20%;
    }

    .menu-btn:hover {
        opacity: 50%;
    }


    .btn-img {

        max-height: 100%;
        max-width: 100%;
    }


    html, body {
        margin: 0;
        height: 100%;
    }

    #c {
        width: 100%;
        height: 100%;
        display: block;
    }
</style>

<script>


    function getTemperatureDifference(year){
        return ( .000000001*( (year-1823)**4) ) -1
    }

    document.getElementById("menu-button").onclick = () => {
        const menu = document.getElementById("menu");
        menu.hidden = !menu.hidden;
    }

    function setTemperature(x)
    {
        window.inputs.temperatureOffset=x;
        group.children.forEach(m=>{
            console.log(m.material.uniforms.uTemperatureOffset.value= window.inputs.temperatureOffset)
        })
    }

    function getCurrentTemperatureDifference(){
        const fromYear = getTemperatureDifference(document.getElementById("year_range").value);
        const fromAverage = parseInt(document.getElementById("temperature_range").value);
        return fromAverage + fromYear;
    }

    function changeTemperature(){
        setTemperature(getCurrentTemperatureDifference());
    }


    document.getElementById("temperature_range").onchange = ()=>{
        changeTemperature();
    }


    document.getElementById("year_range").onchange = ()=>{
        changeTemperature();

    }

    document.getElementById("year_range").value=2000;




</script>

</html>